/* cowbel test suite
 *
 * Written in 2012 by David Given.
 *
 * To the extent possible under law, the author has dedicated all copyright
 * and related and neighboring rights to this software to the public domain
 * worldwide. This software is distributed without any warranty.
 *
 * Please see the file COPYING.CC0 in the distribution package for more
 * information.
 */

type Maybe =
{
	function get(): int;
	function valid(): boolean;
};

function Maybe<T>(): Maybe
{
	return
	{
		implements Maybe;
		
		function get(): T
		{ }
		
		function valid(): boolean
			return false;
	};
}

function Maybe<T>(value: T): Maybe
{
	return
	{
		implements Maybe;
		
		function get(): T
			return value;
		
		function valid(): boolean
			return true;
	};
}

var null = Maybe<int>();
var one = Maybe<int>(1);

var x = one.get();
